import os
from syncer import Syncer


METADATA_RESPONSE = "b'\r\nZ:\\Private\\dashfox>echo open 192.168.0.233  1>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>echo user xboxftp xboxftp  1>>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>echo cd /Hdd1/Content/E00000E4D88A136A/4D53082D/00000001  1>>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>echo ls -ltra  1>>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>echo quit  1>>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>ftp -n -s:retrieve_metadata.txt \r\nftp> open 192.168.0.233 \r\nConnected to 192.168.0.233.\r\n220 FtpDll Ready\r\n530 Not logged in\r\r\nftp> user xboxftp xboxftp \r\n331 User xboxftp OK, need password\r\n230 User logged in\r\nftp> cd /Hdd1/Content/E00000E4D88A136A/4D53082D/00000001 \r\n250 Current directory is /Hdd1/Content/E00000E4D88A136A/4D53082D/00000001/\r\nftp> ls -ltra \r\n200 PORT command successful\r\n150 Opening connection\r\n-rwxrwxrwx   1 root root       1093632 Aug 26 2023 Gears2Checkpoint\r\n226 Transfer complete\r\nftp: 72 bytes received in 0.00Seconds 72000.00Kbytes/sec.\r\nftp> quit \r\n221 Goodbye\r\n\r\nZ:\\Private\\dashfox>del retrieve_metadata.txt \r\n'"
METADATA_RESPONSE_FALLOUT_3 = "b'\r\nZ:\\Private\\dashfox>echo open 192.168.0.233  1>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>echo user xboxftp xboxftp  1>>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>echo cd /Hdd1/Content/E00000E4D88A136A/425307D5/00000001  1>>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>echo ls -ltra  1>>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>echo quit  1>>retrieve_metadata.txt \r\n\r\nZ:\\Private\\dashfox>ftp -n -s:retrieve_metadata.txt \r\nftp> open 192.168.0.233 \r\nConnected to 192.168.0.233.\r\n220 FtpDll Ready\r\n530 Not logged in\r\r\nftp> user xboxftp xboxftp \r\n331 User xboxftp OK, need password\r\n230 User logged in\r\nftp> cd /Hdd1/Content/E00000E4D88A136A/425307D5/00000001 \r\n250 Current directory is /Hdd1/Content/E00000E4D88A136A/425307D5/00000001/\r\nftp> ls -ltra \r\n200 PORT command successful\r\n150 Opening connection\r\n-rwxrwxrwx   1 root root       3670016 Nov 22 2005 autosave.fxs\r\n-rwxrwxrwx   1 root root       1892352 May 14 23:44 Save 13 - Jake  Big Town  04.25.37.fxs\r\n-rwxrwxrwx   1 root root       1478656 May 12 17:30 Save 2 - Jake  Vault 101 Atrium  01.2.fxs\r\n-rwxrwxrwx   1 root root       2465792 May 20 21:11 Save 24 - Jake  Marigold Station  11..fxs\r\n-rwxrwxrwx   1 root root       2822144 May 26 23:50 Save 29 - Jake  Craterside Supply  16.fxs\r\n-rwxrwxrwx   1 root root       2859008 May 30 20:03 Save 30 - Jake  Foggy Bottom Station .fxs\r\n-rwxrwxrwx   1 root root       3149824 May 31 11:28 Save 33 - Jake  Vault 112  19.40.45.fxs\r\n-rwxrwxrwx   1 root root       3162112 May 30 23:10 Save 32 - Jake  Vault 112  19.39.32.fxs\r\n-rwxrwxrwx   1 root root       3158016 May 31 11:29 Save 34 - Jake  Tranquility Lane  19..fxs\r\n-rwxrwxrwx   1 root root       3153920 May 31 11:32 Save 35 - Jake  Rockwell Residence  1.fxs\r\n-rwxrwxrwx   1 root root       3207168 May 31 13:38 Save 38 - Jake  Megaton  21.50.47.fxs\r\n-rwxrwxrwx   1 root root       3207168 May 31 12:11 Save 37 - Jake  Megaton  20.24.35.fxs\r\n-rwxrwxrwx   1 root root       3497984 May 31 21:48 Save 39 - Jake  The Capital Wasteland.fxs\r\n-rwxrwxrwx   1 root root       3624960 Nov 22 2005 Save 46 - Jake  Museum of Technology .fxs\r\n-rwxrwxrwx   1 root root       3538944 Jun 08 22:58 Save 43 - Jake  Upper Deck  25.59.49.fxs\r\n-rwxrwxrwx   1 root root       3620864 Nov 22 2005 Save 47 - Jake  Museum of Technology .fxs\r\n-rwxrwxrwx   1 root root       3624960 Nov 22 2005 Save 48 - Jake  Museum of Technology .fxs\r\n-rwxrwxrwx   1 root root       3624960 Nov 22 2005 Save 49 - Jake  Museum of Technology .fxs\r\n-rwxrwxrwx   1 root root       3674112 Nov 22 2005 Save 51 - Jake  Rivet City  27.11.30.fxs\r\n226 Transfer complete\r\nftp: 1756 bytes received in 0.00Seconds 585.33Kbytes/sec.\r\nftp> quit \r\n221 Goodbye\r\n\r\nZ:\\Private\\dashfox>del retrieve_metadata.txt \r\n"

def test_get_max_last_modified():
    syncer = Syncer("sjakedude", "gears_of_war_2")
    res = syncer.get_max_last_modified(METADATA_RESPONSE)
    print(res)

test_get_max_last_modified()
